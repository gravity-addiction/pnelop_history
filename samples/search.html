<!DOCTYPE html>
<html>
<head>
<title>PNelOP Samples: Search</title>
<script src="../pnelop_history.js"></script>
<script>
function bootProcess() {
  var urlQuery = PNelOP_History.getSearchParams();
  console.log(urlQuery);
  console.log(typeof urlQuery.search)
  if (typeof urlQuery.search == typeof undefined) return; // no search variable in querystring so return
  
  // creates <p> elements, fills with search= querystring value, appends <p> element to searched div
  var p = document.createElement('p');
  p.innerHTML = 'Searched For: '+urlQuery.search;
  document.getElementById('searched').appendChild(p);
}
PNelOP_History.init(bootProcess); // Initialize pnelop_history, assign bootProcess function as callback 
</script>
</head>
<body>
<form id="searchFrm" onSubmit="return PNelOP_History.pushURL('?search='+encodeURIComponent(document.getElementById('search').value));">
  <label for="search">Search:&nbsp;</label><input type="text" name="search" id="search" size="25" placeholder="Search..." /><button type="submit">Search</button>
</form>
<div id="searched"></div>
</body>
</html>